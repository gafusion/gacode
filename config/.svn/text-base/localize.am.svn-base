## ####################################################################
##
## File:	localize.am
##
## Purpose:	Links scripts and data over to build directory as
##	        defined by the variables,
##     dist_bin_SCRIPTS dist_data_DATA dist_localize_SCRIPTS dist_localize_DATA
##              If you define the _localize_ variables, you must
##              also define localizedir, where these will be installed.
##
## Version:	$Id$
##
## Copyright 2001-2010, Tech-X Corporation. Freely distributable provided
## copyright statement remains intact.
##
## ####################################################################

# Localize scripts and data
all_localize = $(dist_bin_SCRIPTS) $(dist_data_DATA) \
  $(dist_localize_SCRIPTS) $(dist_localize_DATA)
$(all_localize): localize-stamp
all-local: localize-stamp
localize-stamp:
	rm -f scripts-temp
	touch scripts-temp
	@if test -n "$(ABS_TOP_SRCDIR)"; then \
	  if test "$(ABS_TOP_SRCDIR)" != $(abs_top_builddir); then \
	    for i in $(all_localize); do \
	      if test -f $(srcdir)/$$i; then \
	        rm -f $$i; \
	        ln -s $(srcdir)/$$i .; \
	      else \
	        echo WARNING: $(srcdir)/$$i does not exist.; \
	      fi; \
	    done; \
	  fi; \
	else \
	  echo ABS_TOP_SRCDIR not defined.  Pls fix configure.ac.; \
	fi
	mv scripts-temp $@

clean-local: clean-localize
clean-localize:
	if test $(ABS_TOP_SRCDIR) != $(abs_top_builddir); then \
	  rm -f $(all_localize); \
	  rm -f localize-stamp; \
	fi

# Any more?
# .PHONY:

dnl                                               -*- Autoconf -*-
dnl
dnl File:    rminterlibdeps.ac
dnl
dnl Purpose: Remove interlibrary dependency checking
dnl
dnl Copyright 2010, Tech-X Corporation, All Rights Reserved.
dnl
dnl Version:  $Id$
dnl
dnl------------------------------------------------------------------------

dnl JRC 20100316: This probably is needed only for Cray/ftn
dnl The second removal, below may not be necessary.
AC_CONFIG_COMMANDS(rminterlibdeps,
  [
    echo Removing the inter-library dependencies;
    os_fc=`uname`-${FC};
    case $os_fc in
      Linux-ftn)
        sed -i.bak -e "s/postdeps=.*$/postdeps=/g" -e "s/postdep_objects=.*$/postdep_objects=/g" -e "s/link_all_deplibs=.*$/link_all_deplibs=no/g" libtool
        sed -i.bak -e "s?-L/opt/fftw/3.2.[0-9]/lib??g" -e "s?/opt/fftw/3.2.[0-9]/lib??g" libtool
        ;;
    esac
    rm -f libtool.bak;
  ]
)


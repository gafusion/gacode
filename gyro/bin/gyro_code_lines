#!/bin/sh
#
# SCRIPT:
#  gyro_code_lines 
#
# FUNCTION:
#  Enumerate number of code lines in gyro suite

tmpfile=/tmp/lines
scripts=/tmp/scripts
f90=/tmp/f90
f77=/tmp/f77
C=/tmp/C
python=/tmp/python
idl=/tmp/idl

touch $tmpfile
touch $scripts
touch $f90
touch $f77
touch $C
touch $python
touch $idl

cat $GYRO_DIR/Makefile >> $tmpfile
cat $GYRO_DIR/Makefile >> $scripts
echo -n "Including toplevel makefile: "
gyro_trim `wc -l $tmpfile`

cat $GYRO_DIR/batch/* >> $tmpfile
cat $GYRO_DIR/batch/* >> $scripts
echo -n "Including batch files: "
gyro_trim `wc -l $tmpfile`

cat $GYRO_DIR/exec/* >> $tmpfile
cat $GYRO_DIR/exec/* >> $scripts
echo -n "Including exec files: "
gyro_trim `wc -l $tmpfile`

cat $GYRO_DIR/bin/* >> $tmpfile
cat $GYRO_DIR/bin/* >> $scripts
echo -n "Including scripts in bin: "
gyro_trim `wc -l $tmpfile`

cat $GYRO_DIR/install/* >> $tmpfile
cat $GYRO_DIR/install/* >> $scripts
echo -n "Including scripts in install: "
gyro_trim `wc -l $tmpfile`

cat $GYRO_DIR/python/*.py >> $tmpfile
cat $GYRO_DIR/python/*.py >> $python
echo -n "Including python scripts: "
gyro_trim `wc -l $tmpfile`

cat $GYRO_DIR/math/*.f >> $tmpfile
cat $GYRO_DIR/math/*.f >> $f77
echo -n "Including math F77 sources: "
gyro_trim `wc -l $tmpfile`

cat $GYRO_DIR/math/*.f90 >> $tmpfile
cat $GYRO_DIR/math/*.f90 >> $f90
echo -n "Including math F90 sources: "
gyro_trim `wc -l $tmpfile`

cat $GYRO_DIR/BLEND/*.f90 >> $tmpfile
cat $GYRO_DIR/BLEND/*.f90 >> $f90
echo -n "Including BLEND F90 sources: "
gyro_trim `wc -l $tmpfile`

cat $GYRO_DIR/SSUB/*.f90 >> $tmpfile
cat $GYRO_DIR/SSUB/*.f90 >> $f90
echo -n "Including SSUB F90 sources: "
gyro_trim `wc -l $tmpfile`

cat $GYRO_DIR/ORB/*.f90 >> $tmpfile
cat $GYRO_DIR/ORB/*.f90 >> $f90
echo -n "Including ORB F90 sources: "
gyro_trim `wc -l $tmpfile`

cat $GYRO_DIR/GEO/*.f90 >> $tmpfile
cat $GYRO_DIR/GEO/*.f90 >> $f90
echo -n "Including GEO F90 sources: "
gyro_trim `wc -l $tmpfile`

cat $GYRO_DIR/EXPRO/*.f90 >> $tmpfile
cat $GYRO_DIR/EXPRO/*.f90 >> $f90
echo -n "Including EXPRO F90 sources: "
gyro_trim `wc -l $tmpfile`

cat $GYRO_DIR/TRANSPOSE/*.f90 >> $tmpfile
cat $GYRO_DIR/TRANSPOSE/*.f90 >> $f90
echo -n "Including TRANSPOSE F90 sources: "
gyro_trim `wc -l $tmpfile`

cat $GYRO_DIR/EIGEN/*.f90 >> $tmpfile
cat $GYRO_DIR/EIGEN/*.f90 >> $f90
echo -n "Including EIGEN F90 sources: "
gyro_trim `wc -l $tmpfile`

cat $GYRO_DIR/src/*.f90 >> $tmpfile
cat $GYRO_DIR/src/*.f90 >> $f90
echo -n "Including main F90 sources: "
gyro_trim `wc -l $tmpfile`

cat $GYRO_DIR/*/Makefile >> $tmpfile
cat $GYRO_DIR/*/Makefile >> $scripts
echo -n "Including Makefiles: "
gyro_trim `wc -l $tmpfile`

cat $GYRO_DIR/vugyro/*.pro >> $tmpfile
cat $GYRO_DIR/vugyro/*.pro >> $idl
echo -n "Including IDL files: "
gyro_trim `wc -l $tmpfile`

cat $GYRO_DIR/tools/gyro2gkv/src/*.f90 >> $tmpfile
cat $GYRO_DIR/tools/gyro2gkv/src/*.f90 >> $f90
echo -n "Including gyro2gkv sources: "
gyro_trim `wc -l $tmpfile`

cat $GYRO_DIR/tools/iterdb_read/src/*.f90 >> $tmpfile
cat $GYRO_DIR/tools/iterdb_read/src/*.f90 >> $f90
echo -n "Including iterdb_read sources: "
gyro_trim `wc -l $tmpfile`

echo

echo -n "SCRIPTS   : "
gyro_trim `wc -l $scripts`

echo -n "FORTRAN 90: "
gyro_trim `wc -l $f90`

echo -n "FORTRAN 77: "
gyro_trim `wc -l $f77`

echo -n "PYTHON    : "
gyro_trim `wc -l $python`

echo -n "IDL       : "
gyro_trim `wc -l $idl`

echo

echo -n "TOTAL     : "
gyro_trim `wc -l $tmpfile`

rm $tmpfile
rm $scripts
rm $f90
rm $f77
rm $C
rm $python
rm $idl

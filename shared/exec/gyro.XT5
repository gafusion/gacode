#!/bin/sh
#
# SCRIPT:
#  gyro.XT5
#
# FUNCTION:
#  Parallel execution script

simdir=${1}
nproc=${2}
exec=${3}
  
cd $simdir

# NOTE:
#   -ss restricts processes to allocating local NUMA node memory only (reduces access latency)
#   -sn makes certain you are allocated both compute blade NUMA nodes (recall that each CPU is referred to as a NUMA node)
aprun -n $nproc -ss -sn 2 $exec
